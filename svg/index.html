<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>SVG Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
    <link rel="stylesheet" href="mystyle.css">
    <script src="myscripts.js"></script>
</head>
<body>
<h1>SVG Tutorial</h1>

<h2>Kapitel 1: Grundelemente</h2>
<p>Ein populäres Format zum Speichern von Vektorgrafiken ist das SVG (Scalable Vector Graphics) Format. SVG ist eine auf
    XML (Extensible Markup Language) basierende Sprache, mit welcher wir die geometrischen Objekte einer Grafik präzise
    beschreiben können und der Computer anhand dieser Beschreibung anschliessend die Grafik darstellen kann.
    Ein Kreis z.B. kann durch den Radius, die Position des Mittelpunktes, die Farbe und Dicke des Umfangs und der Farbe
    der Kreisfläche beschrieben werden. Damit die Kreisbeschreibung als SVG erkannt wird, muss der Kreis von einem SVG
    Tag umschlossen werden. So weiss der Computer, dass nun SVG Elemente folgen. Hier ein Beispiel:
<div class="exercise" data-title="Kreisfarbe"
     data-description="Ein Kreis wird in SVG durch den TAG 'circle' definiert. Danach folgen in beliebiger Reihenfolge die Attribute Radius (r), x-Koordinate (cx) und y-Koordinate (cy) des Mittelpunkts.

        Ändere die Farbe des Kreises zu grün."
     data-src="svg/circle_1.svg"
     data-solution="true"></div>
<div class="exercise" data-title="Kreisfarbe hexadezimal"
     data-description="Der Computer versteht natürlich auch Farbwerte, die hexadezimal kodiert sind. Suchen Sie mit einem <a href='https://www.google.com/search?q=color+picker' target='_blank'>Color Picker</a> eine Farbe aus, die Ihnen gefällt. Kopieren Sie danach den Hexadezimalcode und fügen Sie ihn als Kreisfarbe ein. Der Hexadezimalwert muss immer mit dem vorangehenden # eingefügt werden. Hier ein Beispiel für die Farbe #DFFC03."
     data-src="svg/circle_1_hex.svg"
     data-solution="true"></div>
<div class="exercise" data-title="Kreisgrösse und Leinwand"
     data-description="Änderen Sie die Grösse des Kreises. Neu soll der Kreis einen Radius von 150 Pixel haben.

        Der Kreis passt so nicht mehr in das umschliessende SVG Bild, da dieses nur 500 x 200 Pixel gross ist. Änderen Sie zusätzlich die Grösse des umschliessenden SVG Bildes, so dass der Kreis ganz zu sehen ist.

        Sie können sich das umschliessende SVG Bild auch als <i>Leinwand</i> vorstellen. Sie definieren, wie gross Ihre Leinwand ist und nur die Elemente, welche auf der Leinwand Platz haben, werden vom Computer dargestellt."

     data-src="svg/circle_2.svg"
     data-solution="true"></div>
<div class="exercise" data-title="Kreisposition"
     data-description="Änderen Sie die Position des Kreises, so dass er rechts unten im Bild ist statt links oben.

        Achtung: Das Koordinatensystem ist bei SVG so, dass die y-Koordinate nach unten statt nach oben zeigt. Der Nullpunkt ist also links oben im Bild!"
     data-src="svg/circle_3_position.svg"
     data-solution="true"></div>
<div class="exercise" data-title="Weitere Kreisattribute"
     data-description="Alle Elemente, die Sie kennenlernen, haben noch viele weitere Attribute, mit welchen Sie die Eigenschaften der Elemente verändern können. Informationen zu den einzelnen Elementen und deren Attributen finden Sie z.B. auf den folgenden Webseiten: <a href='https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element' target='_blank'>Link1</a>, <a href='https://www.w3schools.com/graphics/svg_intro.asp' target='_blank'>Link2</a>.&#10;
        Passen Sie den folgenden Kreis so an (ohne einen zweiten Kreis zu verwenden), dass er grün umrandet ist. Recherchieren Sie dazu falls nötig im Internet. Tipp: Suchen Sie nach dem Attributen <i>stroke</i> und <i>stroke-width</i>."
     data-src="svg/circle_4_attribute.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Kommentare"
     data-description="SVG unterstützt auch Kommentare. Diese werden vom Computer ignoriert und helfen nur den Menschen, den Code besser zu verstehen.

        Hier ein Beispiel:"
     data-src="svg/kommentare.svg"
     data-solution="false"
></div>

<div class="exercise" data-title="XML Elemente schliessen"
     data-description="In XML müssen alle Elemente korrekt geschlossen werden, um eine gültige Struktur zu gewährleisten. Dies kann entweder durch einen schliessenden Tag oder durch ein selbstschliessendes Tag erfolgen."
     data-src="svg/xml_elemente_schliessen.svg"
     data-solution="false"></div>

<div class="exercise" data-title="Folgen von nicht geschlossenen XML Elemente"
     data-description="Wenn Tags nicht korrekt geschlossen werden, erkennt der Computer den nachfolgenden Code nicht mehr korrekt und zeigt ihn nicht mehr an. Sie sehen im nachfolgenden Beispiel auf der linken Seite Warnungen (orange Ausrufezeichen): 'unclosed xml attribute'&#10;
        Ändern Sie den SVG Code so ab, dass alle Elemente korrekt geschlossen werden und danach alle 3 Kreise angezeigt werden:"
     data-src="svg/xml_elemente_schliessen_2.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Rechteck und Überlagerung"
     data-description="Als nächstes Grundelement lernen Sie das Rechteck kennen. Zudem werden Sie bemerken, dass Elemente welche weiter unten im SVG Code aufgeführt sind, <i>über</i> den weiter oben definierten Elementen auf der Leinwand platziert werden. Wenn man also zwei Rechtecke anzeigt, und das rote im Code weiter oben steht, wird das rote Rechteck vom grünen überlagert.

        Passen Sie den folgenden Code an, so dass am Schluss eine Schweizerfahne dargestellt wird. Verwenden Sie dazu verschiedene übereinandergelagerte Rechtecke."
     data-src="svg/rect_1.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Text"
     data-description="Buchstaben sind selbst auch Vektorgrafiken. Text (bestehend aus Buchstaben ;-)) kann folgendermassen hinzugefügt werden:"
     data-src="svg/text.svg"
     data-solution="false"></div>

<div class="exercise" data-title="Ellipse"
     data-description="Eine Ellipse ähnelt einem Kreis, hat im Gegensatz dazu aber unterschiedliche Radien in x- und y-Richtung:"
     data-src="svg/elipse.svg"
     data-solution="false"></div>

<div class="exercise" data-title="Polyline"
     data-description="Eine Polyline ist eine Linie, die aus mehreren verbundenen Punkten besteht. Die Punkte werden mit dem Attribut <i>points</i> gesetzt. Zuerst wird die x-Koordinate des ersten Punkts, danach ein Komma, danach die y-Koordinate des ersten Punkts gesetzt. Es folgt ein Abstand und wieder die x-Koordinate und y-Koordinate des zweiten Punkts usw.

        Mit dem Attribut <i>fill</i> können Sie angeben, ob die Figur ausgefüllt werden soll oder nicht.

        Verändern Sie das folgende Beispiel so, dass danach das Dreieck mit grüner Farbe ausgefüllt wird und dafür die schwarze Linie nicht mehr zu sehen ist."
     data-src="svg/polyline.svg"
     data-solution="true"></div>



<h2>Kapitel 2: Elemente zusammenfassen und transformieren</h2>
<p>Bisher haben Sie gelernt, wie Sie einzelne SVG Elemente beschreiben können. Wenn Sie kompliziertere Figuren zeichnen
    möchten, lohnt es sich, diese zusammenzufassen. Dazu gibt es verschiedene Möglichkeiten, welche Sie in diesem Kapitel
    kennenlernen werden. Zudem schauen Sie sich an, wie Sie SVG Elemente beliebig transformieren können, um die Elemente
    genau so darzustellen, wie Sie es möchten.
<div class="exercise" data-title="Gruppe bilden"
     data-description="Es gibt zwei Arten, um mehrere SVG Elemente zusammenzufassen. Die erste Art ist der 'group' Tag.

     Im Beispiel unten sehen Sie zwei Kreise, welche zu einer Gruppe zusammengefasst wurden. Alle Elemente, die sich innerhalb des TAG 'g' befinden, gehören zur Gruppe dazu.

     Fügen Sie weitere rechts mit dem gleichen Abstand einen dritten roten Kreis der Gruppe hinzu."
     data-src="svg/group_circles.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Gruppe rotieren"
     data-description="Die drei Kreise sollen neu in einer 45-Grad-Achse positioniert werden. Anstatt die Position von jedem Kreis einzeln zu verändern, können wir die ganze Gruppe mit dem Attribut <i>transform</i> verändern. Dazu nutzen wir den Zusatz <i>rotate</i>.

     Die Zahl in der Klammer von <i>rotate</i> gibt den Rotationswinkel an. Im Beispiel sehen Sie, dass sich die drei Kreise beim Rotieren auch nach unten bewegt haben. Das liegt daran, dass als Drehzentrum der Nullpunkt der Leinwand (die Ecke links oben) verwendet wurde. Wenn wir ein anderes Drehzentrum verwenden möchten, müssen wir die Koordinaten davon folgendermassen mitgeben: <i>rotate(Winkel X Y)</i>.

     Verändern Sie den Code so, dass die drei Kreise um 45-Grad um den blauen Kreis herum rotiert werden."
     data-src="svg/group_rotate.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Element skalieren"
     data-description="Es kommt häufig vor, dass Sie ein neues Element oder eine Gruppe definieren und feststellen, dass Ihnen die Grösse davon nicht passt. In diesem Fall können Sie das Element oder die Gruppe mit dem Zusatz <i>scale(Grösse)</i> transformieren.

        Fügen Sie der Polyline das Attribute <i>transform=''scale(0.3)''</i> hinzu, um den Stern auf 30% seiner ursprünglichen Grösse zu schrumpfen."
     data-src="svg/star.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Element verschieben"
     data-description="Elemente und Gruppen können auch verschoben werden. Dazu nutzen wir mit dem <i>transform</i>-Attribut den Zusatz <i>translate(X Y)</i>.

     Verschieben Sie den Kreis um 150 Pixel nach rechts und um 50 Pixel nach unten."
     data-src="svg/circle_translate.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Transformationen kombinieren"
     data-description="Die drei Transformationsarten rotieren, skalieren und verschieben können Sie auch miteinander verbinden und gleichzeitig auf eine Gruppe oder ein Element anwenden."
     data-src="svg/transform.svg"
     data-solution="false"></div>

<div class="exercise" data-title="Komplexe Figur wiederverwenden und animieren: Symbol TAG"
     data-description="Eine Komplexe Figur kann aus mehreren SVG Elementen bestehen. In diesem Beispiel wird ein Smiley aus mehreren Kreisen erstellt. Wenn man dieses Smiley nun mehrmals anzeigen und animieren möchte, dann kann man das, indem man das Smiley in einem Symbol Tag speichert.

     Schauen Sie sich das folgende Beispiel an und versuchen Sie, den Code zu verstehen.

     <h5>Aufgaben:</h5>
     A) Was passiert, wenn Sie die Zeilen 15 und 17 weglöschen? Das Smiley sollte verschwinden, da das Symbol selbst nur das Smiley definiert, es aber nicht anzeigt. Analog zu einer Python Funktion, die mittels def nur definiert wird, aber nicht aufgerufen.
     B) Passen Sie den Code so an,dass noch zwei weitere Smileys zu sehen sind.

TODO Im Unterschied zum symbol group tag erscheinen die Elemente aber nicht direkt und es braucht ein use!"
     data-src="svg/symbol_smiley.svg"
     data-solution="true"></div>




<h2>Kapitel 3: Animationen</h2>
<p>Hinweis: Es dauert teilweise ein wenig, bis die nun vorgestellten Animationen sich anfangen zu bewegen. Das ist in Ordnung und liegt am Browser (Chrome / Edge / Safari / ...) und nicht am Code. Haben Sie einfach ein wenig Geduld beim Programmieren.</p>
<div class="exercise" data-title="Kreis Animation"
     data-description="SVG Elemente können animiert werden. Dazu muss spezifiziert werden, welches Attribut von welchem Element animiert werden soll. Im Beispiel wird die x-Koordinate des Kreises (Attribut cx) und gleichzeitig auch noch der Radius (Attribut r) animiert.

     Passen Sie das Beispiel so an, dass der Kreis von rechts nach links fliegt. Weiter soll der Hintergrund Blau sein. (Tipp: Fügen Sie ganz am Anfang ein sehr grosses, blaues Rechteck hinzu, dass als Hintergrund dient.)"
     data-src="svg/animation_circle.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Smiley Animation"
     data-description="Animieren Sie das SVG Smiley, indem sie die x-Koordinate des gesamten Smileys animieren. Dies können Sie, indem sie das x Attribut der use-Zeile (Zeile 12) animieren, analog zur früheren Animation mit dem Kreis."
     data-src="svg/symbol_smiley_animiert.svg"
     data-solution="true"></div>

<div class="exercise" data-title="Rotierende Animation"
     data-description="Eine Gruppe von Elementen kann als ganzes ebenfalls animiert werden. Hier möchten wir eine neue Form der Animation illustrieren: Elemente um einen Mittelpunkt kreisen lassen.

     Dazu bekommt die Gruppe zuerst via das id Attribut einen Namen, hier z.B. 'sun'. Danach nutzen wir animateTransform, um dieses Gruppenelement um den Mittelpunkt (250/250) kreisen zu lassen, und zwar von 0 bis 360 Grad.

     Passen Sie den Code so an, dass der Rotationsmittelpunkt neu unten in der Mitte des SVGs ist. So sieht es danach aus, als würde eine Sonne auf und wieder unter gehen."
     data-src="svg/group_sun_animated_animatetransform.svg"
     data-solution="true"></div>







<h2>Kapitel 4: SVG Code via Python Code generieren</h2>
<p>Wenn Sie sehr viele SVG Elemente erstellen möchten, z.B. eine Fensterfront eines Hochausses, dann müssen Sie häufig SVG Elemente Kopieren und jeweils nur z.B. die x-Koordinate anpassen. Damit das nicht von Hand gemacht werden muss, ist es möglich, Python Code zu schreiben, der das für einen erledigt.
Das Ziel dieses Kapitels ist es also, Python Code zu schreiben, der SVG Code generiert. Dieser generierte SVG Code kann danach kopiert und verwendet werden.

    Hier ein Beispielcode, der SVG Code (Rechtecke) generiert:
</p>

<!-- Use https://docs.webtigerpython.ethz.ch/url-arguments.html to create a link from this code:

i = 0
while i < 20:
    print('<rect width="10" height="10" x="' + str(i*20) + '" y="50" fill="red" />')
    i += 1
 -->
<iframe src="https://webtigerpython.ethz.ch/?layout=%5B%7B%22type%22%3A%20%22Editor%22%7D%2C%7B%22type%22%3A%20%5B%22Canvas%22%2C%22Console%22%5D%7D%5D&lang=en&full_screen=false&dark_mode=false&device=-&code=NobwRAdghgtgpmAXGGUCWEB0AHAnmAGjABMoAXKJMNAAgF4aAGAHQgHcALNAGzhtoA8NAEyNErGpJrYAThjIAKAOQCZcAMZkabNMTIc6zMAEYWYGhzhoA5hzKGTZmgA8HSmgGoaAZzIyFaABUogCUnjRKRjS4DgCsTgBmPNwOasRRAPQAfEohElK0HgzGrGAAvgC6QA%3D"
        id="iframe"
        width="100%"
        height="500"
        allow="usb;clipboard-write">
</iframe>

<div class="exercise" data-title="Python Code um SVG Code zu generieren"
     data-description="Lassen Sie den obigen Code laufen, indem Sie auf den grünen Knopf drücken. Kopieren Sie den generierten SVG Code in diese Vorlage und versuchen Sie zu verstehen, weshalb dieser nun kopierte SVG Code generiert wurde und weshalb das Sinn ergeben kann, das zu nutzen."
     data-src="svg/python_code_for_svg_code.svg"
     data-solution="true"></div>
</body>
</html>